
## 2 Παράλληλος υπολογισμός του συνόλου Mandelbrot

### Απαντήσεις στις ερωτήσεις

1. Για το σχήμα συγχρονισμού που χρησιμοποιούμε απαιτούνται *NTHREADS* σημαφόροι, δηλαδή όσα και τα νήματα στα οποία κατανείμεται
ο φόρτος εργασίας. Αυτό συμβαίνει γιατί θέλουμε η εκτύπωση να γίνεται σειριακά, οπότε θέλουμε μόνο ένα νήμα τη φορά να βρίσκεται στο
κρίσιμο τμήμα του κώδικα (κώδικας εκτύπωσης). Για να το εξασφαλίσουμε αυτό θα πρέπει κάθε νήμα να ανταποκρίνεται σε ένα μόνο post, δηλαδή
χρειαζόμαστε για κάθε νήμα να υπάρχει ένας σημαφόρος.
2. TODO - TIME VS CORES
3. Για τον συγχρονισμό με conditional variables χρησιμοποιήσαμε επίσης *NTHREADS* εξ αυτών. Η μόνη διαφορά με τους σημαφόρους είναι πως 
αντί να κάνουμε post, στο οποίο ανταποκρίνεται μόνο το κατάλληλο νήμα, κάνουμε notify, στο οποίο επίσης ανταποκρίνεται μόνο το νήμα που
ανεμένει το αντίστοιχο condition. 

    Θα μπορούσαμε να χρησιμοποιήσουμε μόνο μια μεταβλητή για τον συγχρονισμό, η οποία θα έκανε notify_all όλα τα νήματα τα οποία μετέπειτα θα
έλεγχαν αν ήταν η σειρά τους να εκτυπώσουν. Το πρόβλημα με αυτήν την υλοποίηση είναι πως για κάθε εκτύπωση θα έπρεπε να ξυπνήσουν όλα τα νήματα,
οδηγώντας σε αχρείαστα context switches εφόσον όλα εκτός από ένα θα έμπαιναν απευθείας σε κατάσταση αναμονής.
4. Προφανώς, το κρίσιμο τμήμα πρέπει να περιλαμβάνει μόνο την εκτύπωση, αφού μόνο εκείνη χρειάζεται συγχρονισμό (σειριοποίηση).
Αν το κρίσιμο τμήμα περιλάμβανε και τον υπολογισμό, αυτός θα γινόταν επίσης σειριακά και όχι παράλληλα. Τότε, το κόστος του 
συγχρονισμού θα αύξανε τον χρόνο εκτέλεσης σε σχέση με το αρχικό πρόγραμμα, το οποίο είναι επίσης σειριακό. Η επιτάχυνση την οποία μετρήσαμε 
εμείς είναι: TODO
5. Το πρόγραμμα χρησιμοποιεί ANSI escape codes για να επεξεργαστεί τα χρώματα των χαρακτήρων που εκτυπώνονται. Τα ANSI escape codes αλληλεπιδρούν
απευθείας με το τερματικό και διατηρούνται όσο αυτός είναι ανοιχτός, ανεξάρτητα από το αν η διεργασία που τα εκτύπωσε έχει ολοκληρωθεί. Για αυτόν
τον λόγο εγκαταστήσαμε έναν signal handler ο οποίος φροντίζει να επαναφέρει τις ρυθμίσεις του τερματικού (με τα κατάλληλα escape codes), πρωτού το
πρόγραμμα τερματίσει λόγω του σήματος SIGINT.
